/* rxjs@6.6.3 */
System.register([],(function(t){"use strict";return{execute:function(){function e(t){return"function"==typeof t}t({D:void 0,F:function(...t){return _(t)},K:function(...t){let e=void 0,s=void 0;B(t[t.length-1])&&(s=t.pop());"function"==typeof t[t.length-1]&&(e=t.pop());1===t.length&&o(t[0])&&(t=t[0]);return J(t,s).lift(new It(e))},L:function(...t){return Mt()(L(...t))},M:$,P:function(...t){let e=Number.POSITIVE_INFINITY,s=null,r=t[t.length-1];B(r)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop());if(null===s&&1===t.length&&t[0]instanceof m)return t[0];return Rt(e)(J(t,s))},Q:L,V:function(...t){if(1===t.length){if(!o(t[0]))return t[0];t=t[0]}return J(t,void 0).lift(new Ht)},W:X,X:function(t=0,e,s){let r=-1;Dt(e)?r=Number(e)<1?1:Number(e):B(e)&&(s=e);B(s)||(s=at);return new m(e=>{const n=Dt(t)?t:+t-s.now();return s.schedule(Wt,n,{index:0,period:r,subscriber:e})})},Y:function(...t){const e=t[t.length-1];"function"==typeof e&&t.pop();return J(t,void 0).lift(new $t(e))},Z:Ct,a0:kt,a3:Et,a5:At,a7:N,a9:Mt,aa:function(t,e,s,r){return n=>n.lift(new k(t,e,s,r))},ab:Rt,ad:function(t,e=0){return function(s){return s.lift(new tt(t,e))}},d:f,e:c,f:jt,g:e,h:w,i:B,j:function(t){return new m(e=>{let s;try{s=t()}catch(t){return void e.error(t)}return(s?jt(s):$()).subscribe(e)})},l:Dt,m:ft,n:function(){},o:function(t,e){return function(s){return s.lift(new Ft(t,e))}},p:function(t,e){function s(){return!s.pred.apply(s.thisArg,arguments)}return s.pred=t,s.thisArg=e,s}});let s=!1;const r=t("_",{Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}});function n(t){setTimeout(()=>{throw t},0)}const i={closed:!0,next(t){},error(t){if(r.useDeprecatedSynchronousErrorHandling)throw t;n(t)},complete(){}},o=t("b",Array.isArray||(t=>t&&"number"==typeof t.length));function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})(),h=t("U",u);class l{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:s,_ctorUnsubscribe:r,_unsubscribe:n,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof l)s.remove(this);else if(null!==s)for(let t=0;t<s.length;++t){s[t].remove(this)}if(e(n)){r&&(this._unsubscribe=void 0);try{n.call(this)}catch(e){t=e instanceof h?a(e.errors):[e]}}if(o(i)){let e=-1,s=i.length;for(;++e<s;){const s=i[e];if(c(s))try{s.unsubscribe()}catch(e){t=t||[],e instanceof h?t=t.concat(a(e.errors)):t.push(e)}}}if(t)throw new h(t)}add(t){let e=t;if(!t)return l.EMPTY;switch(typeof t){case"function":e=new l(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof l)){const t=e;e=new l,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:s}=e;if(null===s)e._parentOrParents=this;else if(s instanceof l){if(s===this)return e;e._parentOrParents=[s,this]}else{if(-1!==s.indexOf(this))return e;s.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const s=e.indexOf(t);-1!==s&&e.splice(s,1)}}}function a(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}t("S",l),l.EMPTY=function(t){return t.closed=!0,t}(new l);const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class b extends l{constructor(t,e,s){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i;break;case 1:if(!t){this.destination=i;break}if("object"==typeof t){t instanceof b?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new p(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new p(this,t,e,s)}}[d](){return this}static create(t,e,s){const r=new b(t,e,s);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}t("z",b);class p extends b{constructor(t,s,r,n){let o;super(),this._parentSubscriber=t;let c=this;e(s)?o=s:s&&(o=s.next,r=s.error,n=s.complete,s!==i&&(c=Object.create(s),e(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=o,this._error=r,this._complete=n}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:s}=r;if(this._error)s&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)s?(e.syncErrorValue=t,e.syncErrorThrown=!0):n(t),this.unsubscribe();else{if(this.unsubscribe(),s)throw t;n(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw t;n(t)}}__tryOrSetError(t,e,s){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,s)}catch(e){return r.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(n(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}function f(t){for(;t;){const{closed:e,destination:s,isStopped:r}=t;if(e||r)return!1;t=s&&s instanceof b?s:null}return!0}const y=t("q","function"==typeof Symbol&&Symbol.observable||"@@observable");function w(t){return t}function _(t){return 0===t.length?w:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}class m{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new m;return e.source=this,e.operator=t,e}subscribe(t,e,s){const{operator:n}=this,o=function(t,e,s){if(t){if(t instanceof b)return t;if(t[d])return t[d]()}return t||e||s?new b(t,e,s):new b(i)}(t,e,s);if(n?o.add(n.call(o,this.source)):o.add(this.source||r.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),r.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(e){r.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),f(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=x(e))((e,s)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(t){s(t),r&&r.unsubscribe()}},s,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=x(t))((t,e)=>{let s;this.subscribe(t=>s=t,t=>e(t),()=>t(s))})}}function x(t){if(t||(t=r.Promise||Promise),!t)throw new Error("no Promise impl found");return t}t("O",m),m.create=t=>new m(t);const v=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})(),g=t("J",v);class S extends l{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const s=e.indexOf(this.subscriber);-1!==s&&e.splice(s,1)}}class E extends b{constructor(t){super(t),this.destination=t}}class T extends m{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new E(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new g;if(!this.isStopped){const{observers:e}=this,s=e.length,r=e.slice();for(let e=0;e<s;e++)r[e].next(t)}}error(t){if(this.closed)throw new g;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,s=e.length,r=e.slice();for(let e=0;e<s;e++)r[e].error(t);this.observers.length=0}complete(){if(this.closed)throw new g;this.isStopped=!0;const{observers:t}=this,e=t.length,s=t.slice();for(let t=0;t<e;t++)s[t].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new g;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new g;return this.hasError?(t.error(this.thrownError),l.EMPTY):this.isStopped?(t.complete(),l.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new m;return t.source=this,t}}t("r",T),T.create=(t,e)=>new I(t,e);class I extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):l.EMPTY}}function N(){return function(t){return t.lift(new C(t))}}class C{constructor(t){this.connectable=t}call(t,e){const{connectable:s}=this;s._refCount++;const r=new j(t,s),n=e.subscribe(r);return r.closed||(r.connection=s.connect()),n}}class j extends b{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:s}=this,r=t._connection;this.connection=null,!r||s&&r!==s||r.unsubscribe()}}class O extends m{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new l,t.add(this.source.subscribe(new P(this.getSubject(),this))),t.closed&&(this._connection=null,t=l.EMPTY)),t}refCount(){return N()(this)}}t("C",O);t("a6",(()=>{const t=O.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})());class P extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class k{constructor(t,e,s,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=s,this.subjectSelector=r}call(t,e){return e.subscribe(new A(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class A extends b{constructor(t,e,s,r,n){super(t),this.keySelector=e,this.elementSelector=s,this.durationSelector=r,this.subjectSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)}_group(t,e){let s=this.groups;s||(s=this.groups=new Map);let r,n=s.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!n){n=this.subjectSelector?this.subjectSelector():new T,s.set(e,n);const t=new Y(e,n,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Y(e,n))}catch(t){return void this.error(t)}this.add(t.subscribe(new V(e,n,this)))}}n.closed||n.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,s)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class V extends b{constructor(t,e,s){super(e),this.key=t,this.group=e,this.parent=s}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Y extends m{constructor(t,e,s){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=s}_subscribe(t){const e=new l,{refCountSubscription:s,groupSubject:r}=this;return s&&!s.closed&&e.add(new R(s)),e.add(r.subscribe(t)),e}}t("G",Y);class R extends l{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}t("B",class extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new g;return this._value}next(t){super.next(this._value=t)}});class M extends l{constructor(t,e){super()}schedule(t,e=0){return this}}class D extends M{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,s=0){return setInterval(t.flush.bind(t,this),s)}recycleAsyncId(t,e,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(t,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s=!1,r=void 0;try{this.work(t)}catch(t){s=!0,r=!!t&&t||new Error(t)}if(s)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,s=e.actions,r=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&s.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}t("A",D);class F{constructor(t,e=F.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,s){return new this.SchedulerAction(this,t).schedule(s,e)}}t("y",F),F.now=()=>Date.now();class U extends F{constructor(t,e=F.now){super(t,()=>U.delegate&&U.delegate!==this?U.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,s){return U.delegate&&U.delegate!==this?U.delegate.schedule(t,e,s):super.schedule(t,e,s)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let s;this.active=!0;do{if(s=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,s){for(;t=e.shift();)t.unsubscribe();throw s}}}t("a",U);const H=t("x",new class extends U{}(class extends D{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,e,s):t.flush(this)}})),q=t("w",H),W=t("E",new m(t=>t.complete()));function $(t){return t?function(t){return new m(e=>t.schedule(()=>e.complete()))}(t):W}function B(t){return t&&"function"==typeof t.schedule}const G=t=>e=>{for(let s=0,r=t.length;s<r&&!e.closed;s++)e.next(t[s]);e.complete()};function z(t,e){return new m(s=>{const r=new l;let n=0;return r.add(e.schedule((function(){n!==t.length?(s.next(t[n++]),s.closed||r.add(this.schedule())):s.complete()}))),r})}function J(t,e){return e?z(t,e):new m(G(t))}function L(...t){let e=t[t.length-1];return B(e)?(t.pop(),z(t,e)):J(t)}function X(t,e){return new m(e?s=>e.schedule(K,0,{error:t,subscriber:s}):e=>e.error(t))}function K({error:t,subscriber:e}){e.error(t)}var Q;!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(Q||(Q=t("D",{})));class Z{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return L(this.value);case"E":return X(this.error);case"C":return $()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Z("N",t):Z.undefinedValueNotification}static createError(t){return new Z("E",void 0,t)}static createComplete(){return Z.completeNotification}}t("N",Z),Z.completeNotification=new Z("C"),Z.undefinedValueNotification=new Z("N",void 0);class tt{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new et(t,this.scheduler,this.delay))}}class et extends b{constructor(t,e,s=0){super(t),this.scheduler=e,this.delay=s}static dispatch(t){const{notification:e,destination:s}=t;e.observe(s),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(et.dispatch,this.delay,new st(t,this.destination)))}_next(t){this.scheduleMessage(Z.createNext(t))}_error(t){this.scheduleMessage(Z.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.createComplete()),this.unsubscribe()}}class st{constructor(t,e){this.notification=t,this.destination=e}}t("R",class extends T{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new rt(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,n=s.length;let i;if(this.closed)throw new g;if(this.isStopped||this.hasError?i=l.EMPTY:(this.observers.push(t),i=new S(this,t)),r&&t.add(t=new et(t,r)),e)for(let e=0;e<n&&!t.closed;e++)t.next(s[e]);else for(let e=0;e<n&&!t.closed;e++)t.next(s[e].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),i}_getNow(){return(this.scheduler||q).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,s=this._windowTime,r=this._events,n=r.length;let i=0;for(;i<n&&!(t-r[i].time<s);)i++;return n>e&&(i=Math.max(i,n-e)),i>0&&r.splice(0,i),r}});class rt{constructor(t,e){this.time=t,this.value=e}}t("c",class extends T{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),l.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),l.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}});let nt=1;const it=Promise.resolve(),ot={};function ct(t){return t in ot&&(delete ot[t],!0)}const ut={setImmediate(t){const e=nt++;return ot[e]=!0,it.then(()=>ct(e)&&t()),e},clearImmediate(t){ct(t)}};const ht=t("u",new class extends U{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let s,r=-1,n=e.length;t=t||e.shift();do{if(s=t.execute(t.state,t.delay))break}while(++r<n&&(t=e.shift()));if(this.active=!1,s){for(;++r<n&&(t=e.shift());)t.unsubscribe();throw s}}}(class extends D{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,s=0){return null!==s&&s>0?super.requestAsyncId(t,e,s):(t.actions.push(this),t.scheduled||(t.scheduled=ut.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(t,e,s);0===t.actions.length&&(ut.clearImmediate(e),t.scheduled=void 0)}})),lt=(t("t",ht),t("v",new U(D))),at=t("k",lt);const dt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})(),bt=(t("H",dt),(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()),pt=(t("I",bt),(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})());t("T",pt);function ft(t,e){return function(s){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return s.lift(new yt(t,e))}}class yt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new wt(t,this.project,this.thisArg))}}class wt extends b{constructor(t,e,s){super(t),this.project=e,this.count=0,this.thisArg=s||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class _t extends b{notifyNext(t,e,s,r,n){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}t("a2",_t);class mt extends b{constructor(t,e,s){super(),this.parent=t,this.outerValue=e,this.outerIndex=s,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const xt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",vt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function gt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const St=t("s",t=>{if(t&&"function"==typeof t[y])return r=t,t=>{const e=r[y]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(vt(t))return G(t);if(gt(t))return s=t,t=>(s.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,n),t);if(t&&"function"==typeof t[xt])return e=t,t=>{const s=e[xt]();for(;;){let e;try{e=s.next()}catch(e){return t.error(e),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof s.return&&t.add(()=>{s.return&&s.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,s,r});function Et(t,e,s,r,n=new mt(t,s,r)){if(!n.closed)return e instanceof m?e.subscribe(n):St(e)(n)}const Tt={};class It{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Nt(t,this.resultSelector))}}t("a4",It);class Nt extends _t{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++){const e=t[s];this.add(Et(this,e,void 0,s))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,s){const r=this.values,n=r[s],i=this.toRespond?n===Tt?--this.toRespond:this.toRespond:0;r[s]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}function Ct(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new m(s=>{const r=new l;return r.add(e.schedule(()=>{const n=t[y]();r.add(n.subscribe({next(t){r.add(e.schedule(()=>s.next(t)))},error(t){r.add(e.schedule(()=>s.error(t)))},complete(){r.add(e.schedule(()=>s.complete()))}}))})),r})}(t,e);if(gt(t))return function(t,e){return new m(s=>{const r=new l;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{s.next(t),r.add(e.schedule(()=>s.complete()))}))},t=>{r.add(e.schedule(()=>s.error(t)))}))),r})}(t,e);if(vt(t))return z(t,e);if(function(t){return t&&"function"==typeof t[xt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new m(s=>{const r=new l;let n;return r.add(()=>{n&&"function"==typeof n.return&&n.return()}),r.add(e.schedule(()=>{n=t[xt](),r.add(e.schedule((function(){if(s.closed)return;let t,e;try{const s=n.next();t=s.value,e=s.done}catch(t){return void s.error(t)}e?s.complete():(s.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function jt(t,e){return e?Ct(t,e):t instanceof m?t:new m(St(t))}class Ot extends b{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}t("a1",Ot);class Pt extends b{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function kt(t,e){if(!e.closed)return t instanceof m?t.subscribe(e):St(t)(e)}function At(t,e,s=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(At((s,r)=>jt(t(s,r)).pipe(ft((t,n)=>e(s,t,r,n))),s)):("number"==typeof e&&(s=e),e=>e.lift(new Vt(t,s)))}t("$",Pt);class Vt{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Yt(t,this.project,this.concurrent))}}class Yt extends Pt{constructor(t,e,s=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const s=this.index++;try{e=this.project(t,s)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Ot(this),s=this.destination;s.add(e);const r=kt(t,e);r!==e&&s.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}t("ac",At);function Rt(t=Number.POSITIVE_INFINITY){return At(w,t)}function Mt(){return Rt(1)}function Dt(t){return!o(t)&&t-parseFloat(t)+1>=0}class Ft{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ut(t,this.predicate,this.thisArg))}}class Ut extends b{constructor(t,e,s){super(t),this.predicate=e,this.thisArg=s,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}class Ht{call(t,e){return e.subscribe(new qt(t))}}class qt extends _t{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){const e=Et(this,t[s],void 0,s);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,s){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==s){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function Wt(t){const{index:e,period:s,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===s)return r.complete();t.index=e+1,this.schedule(t,s)}}class $t{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Bt(t,this.resultSelector))}}t("a8",$t);class Bt extends b{constructor(t,e,s=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;o(t)?e.push(new zt(t)):"function"==typeof t[xt]?e.push(new Gt(t[xt]())):e.push(new Jt(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let e=t[s];if(e.stillUnsubscribed){this.destination.add(e.subscribe())}else this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,s=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const n=[];for(let i=0;i<e;i++){let e=t[i],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void s.complete();n.push(o.value)}this.resultSelector?this._tryresultSelector(n):s.next(n),r&&s.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class Gt{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class zt{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[xt](){return this}next(t){const e=this.index++,s=this.array;return e<this.length?{value:s[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Jt extends Pt{constructor(t,e,s){super(t),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[xt](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return kt(this.observable,new Ot(this))}}}}}));
